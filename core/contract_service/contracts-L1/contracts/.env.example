# ==================== Application Configuration ====================
NODE_ENV=production
PORT=3000
LOG_LEVEL=info
HOST=0.0.0.0
SERVICE_NAME=contracts-l1

# ==================== Database Configuration ====================
# Uncomment and configure if database is required
# DATABASE_URL=postgresql://username:password@localhost:5432/contracts_l1
# DATABASE_POOL_MIN=2
# DATABASE_POOL_MAX=10
# DATABASE_SSL=true
# DATABASE_TIMEOUT=30000

# ==================== Sigstore Configuration ====================
SIGSTORE_VERIFY_URL=https://fulcio.sigstore.dev
SIGSTORE_REKOR_URL=https://rekor.sigstore.dev
SIGSTORE_ENABLE=true

# ==================== Security Configuration ====================
# CORS Configuration
CORS_ORIGIN=https://your-domain.com
CORS_CREDENTIALS=true

# API Security
# 建議使用以下指令生成強密鑰（至少 32 字元）：
#   openssl rand -base64 32
#   或 node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
API_KEY_SECRET=<REPLACE_WITH_STRONG_SECRET>
API_RATE_LIMIT=100
API_RATE_LIMIT_WINDOW=900000

# ==================== Redis Configuration (Rate Limiting) ====================
# Redis is used as a shared store for rate limiting across multiple instances.
# REQUIRED for production deployments with multiple containers/instances.
# If not enabled, in-memory store is used (suitable only for single-instance dev).

# Enable Redis store for rate limiting (set to 'true' for production)
REDIS_RATE_LIMIT_ENABLED=false

# Redis connection settings (required when REDIS_RATE_LIMIT_ENABLED=true)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Enable TLS for Redis connection (required for managed Redis services like AWS ElastiCache, Azure Cache)
REDIS_TLS_ENABLED=false

# ==================== Monitoring & Observability ====================
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Logging
LOG_FORMAT=json
LOG_TIMESTAMP=true

# Tracing (optional)
# ENABLE_TRACING=true
# JAEGER_ENDPOINT=http://jaeger:14268/api/traces

# ==================== Performance Configuration ====================
# Node.js Options
NODE_OPTIONS=--max-old-space-size=512

# Connection Pooling
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT=30000

# ==================== Feature Flags ====================
ENABLE_PROVENANCE=true
ENABLE_ATTESTATION=true
ENABLE_SLSA_VALIDATION=true

# ==================== External Services ====================
# GitHub Integration (if needed)
# GITHUB_TOKEN=ghp_your_token_here
# GITHUB_API_URL=https://api.github.com

# ==================== Development Only ====================
# DEBUG=contracts:*
# ENABLE_MOCK_DATA=false
