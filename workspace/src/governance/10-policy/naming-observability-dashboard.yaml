---
# 命名治理可觀察性儀表板 | Naming Governance Observability Dashboard
version: "2.0"
lastUpdated: "2025-01-05"
status: "active"
governanceDimension: "10-policy"

dashboard_framework:
  name: "Naming Governance Observability Dashboard"
  platform: "Grafana"
  purpose: "提供命名治理的實時可觀察性和洞察"
  refresh_interval: "5 minutes"
  data_sources:
    - "CI/CD pipeline logs"
    - "Git repository analysis"
    - "Audit tracking system"
    - "Resource inventory"
    - "Compliance monitoring"

# 儀表板佈局 | Dashboard Layout
dashboard_layout:
  overview_section:
    title: "概覽 | Overview"
    grid_position: "top"
    panels:
      - id: "DB-001"
        title: "命名標準採用率"
        type: "stat"
        query: "adoption_rate"
        threshold:
          warning: 90
          critical: 80
        target: "95%"
        
      - id: "DB-002"
        title: "命名合規率"
        type: "stat"
        query: "compliance_rate"
        threshold:
          warning: 95
          critical: 90
        target: "98%"
        
      - id: "DB-003"
        title: "活躍資源總數"
        type: "stat"
        query: "total_resources"
        
      - id: "DB-004"
        title: "本月命名違規數"
        type: "stat"
        query: "violations_this_month"
        threshold:
          warning: 10
          critical: 20

  trend_section:
    title: "趨勢分析 | Trend Analysis"
    grid_position: "middle"
    panels:
      - id: "DB-005"
        title: "採用率趨勢 (30天)"
        type: "line chart"
        query: "adoption_rate_trend_30d"
        time_range: "30 days"
        
      - id: "DB-006"
        title: "違規事件趨勢"
        type: "line chart"
        query: "violation_trend"
        time_range: "90 days"
        
      - id: "DB-007"
        title: "命名請求量"
        type: "bar chart"
        query: "naming_requests_volume"
        time_range: "30 days"

  quality_section:
    title: "品質指標 | Quality Metrics"
    grid_position: "middle"
    panels:
      - id: "DB-008"
        title: "命名一致性格"
        type: "gauge"
        query: "consistency_score"
        min: 0
        max: 100
        threshold:
          warning: 85
          critical: 75
        target: "> 90"
        
      - id: "DB-009"
        title: "命名衝突數"
        type: "stat"
        query: "naming_conflicts_count"
        target: "0"
        
      - id: "DB-010"
        title: "重複命名數"
        type: "stat"
        query: "duplicate_naming_count"
        target: "0"

  team_performance_section:
    title: "團隊績效 | Team Performance"
    grid_position: "middle"
    panels:
      - id: "DB-011"
        title: "團隊合規率排名"
        type: "table"
        query: "team_compliance_ranking"
        columns:
          - "Team Name"
          - "Compliance Rate"
          - "Total Resources"
          - "Violations"
          
      - id: "DB-012"
        title: "團隊採用率分布"
        type: "pie chart"
        query: "team_adoption_distribution"
        
      - id: "DB-013"
        title: "團隊違規熱力圖"
        type: "heatmap"
        query: "team_violation_heatmap"

  operational_section:
    title: "運營指標 | Operational Metrics"
    grid_position: "bottom"
    panels:
      - id: "DB-014"
        title: "RFC 審查平均時間"
        type: "stat"
        query: "rfc_review_avg_time"
        unit: "hours"
        target: "< 48 hours"
        
      - id: "DB-015"
        title: "例外申請數"
        type: "stat"
        query: "exception_requests_count"
        time_range: "This month"
        
      - id: "DB-016"
        title: "自動化驗證覆蓋率"
        type: "stat"
        query: "automation_coverage_rate"
        target: "90%"

  alerts_section:
    title: "警報摘要 | Alerts Summary"
    grid_position: "sidebar"
    panels:
      - id: "DB-017"
        title: "活躍警報"
        type: "list"
        query: "active_alerts"
        
      - id: "DB-018"
        title: "近期解決的警報"
        type: "list"
        query: "resolved_alerts"
        limit: 10

# 詳細視圖 | Detailed Views
detailed_views:
  resource_inventory:
    name: "資源庫存視圖"
    description: "詳細的命名資源庫存"
    filters:
      - "Resource Type"
      - "Team"
      - "Environment"
      - "Naming Status"
      
    columns:
      - "Resource Name"
      - "Type"
      - "Team"
      - "Compliance Status"
      - "Last Validated"
      - "Issues"
      
    actions:
      - "View Details"
      - "Export"
      - "Bulk Actions"

  violation_log:
    name: "違規日誌視圖"
    description: "命名違規的詳細記錄"
    filters:
      - "Severity"
      - "Team"
      - "Time Range"
      - "Resource Type"
      
    columns:
      - "Timestamp"
      - "Resource"
      - "Violation Type"
      - "Severity"
      - "Team"
      - "Status"
      - "Assigned To"
      
    actions:
      - "Acknowledge"
      - "Assign"
      - "Escalate"
      - "View Details"

  exception_tracker:
    name: "例外追蹤視圖"
    description: "命名例外的狀態和進度"
    filters:
      - "Exception Type"
      - "Status"
      - "Approver"
      - "Time Range"
      
    columns:
      - "Exception ID"
      - "Type"
      - "Resource"
      - "Status"
      - "Created Date"
      - "Expiry Date"
      - "Approver"
      - "Days Remaining"
      
    actions:
      - "View Details"
      - "Request Extension"
      - "Close Early"

  rfc_tracker:
    name: "RFC 追蹤視圖"
    description: "命名變更 RFC 的狀態"
    filters:
      - "Status"
      - "Requester"
      - "Type"
      - "Time Range"
      
    columns:
      - "RFC ID"
      - "Title"
      - "Requester"
      - "Type"
      - "Status"
      - "Created Date"
      - "Approver"
      - "Days in Status"
      
    actions:
      - "View Details"
      - "Approve/Reject"
      - "Request Info"

# 自動化警報 | Automated Alerts
alert_rules:
  critical_alerts:
    adoption_rate_drop:
      name: "採用率下降警報"
      condition: "adoption_rate < 80%"
      severity: "critical"
      notification:
        - "Naming Governance Board"
        - "Naming Governance Manager"
        - "Executive Sponsor"
      action: "立即召開會議審查"
      
    compliance_rate_drop:
      name: "合規率下降警報"
      condition: "compliance_rate < 90%"
      severity: "critical"
      notification:
        - "Naming Governance Board"
        - "All Team Leads"
      action: "啟動改進計劃"
      
    security_naming_violation:
      name: "安全命名違警報"
      condition: "security-related naming violation detected"
      severity: "critical"
      notification:
        - "Security Team"
        - "Naming Governance Board"
        - "Executive Sponsor"
      action: "立即調查和修復"

  warning_alerts:
    violation_spike:
      name: "違規激增警報"
      condition: "violations_this_month > 10"
      severity: "warning"
      notification:
        - "Naming Governance Manager"
        - "Affected Team Leads"
      action: "分析根本原因"
      
    rfc_backlog:
      name: "RFC 積壓警報"
      condition: "pending_rfc_count > 20"
      severity: "warning"
      notification:
        - "Naming Governance Manager"
        - "Naming Gatekeepers"
      action: "分配額外審查資源"
      
    exception_request_spike:
      name: "例外申請激增警報"
      condition: "exception_requests_this_month > 5"
      severity: "warning"
      notification:
        - "Naming Governance Board"
        - "Compliance Team"
      action: "審查政策適用性"

  info_alerts:
    milestone_achieved:
      name: "里程碑達成通知"
      condition: "adoption_rate reaches 95% for first time"
      severity: "info"
      notification:
        - "All Stakeholders"
      action: "慶祝和表彰"
      
    new_pattern_deployed:
      name: "新模式部署通知"
      condition: "new naming pattern approved and deployed"
      severity: "info"
      notification:
        - "All Technical Teams"
      action: "培訓和採用"

# 數據源配置 | Data Source Configuration
data_sources:
  ci_cd_pipeline:
    type: "Prometheus"
    endpoint: "ci-metrics.prometheus.io"
    queries:
      adoption_rate: |
        sum(rate(naming_validation_success_total[5m])) / 
        sum(rate(naming_validation_total[5m])) * 100
        
      compliance_rate: |
        sum(rate(naming_compliance_success_total[1h])) / 
        sum(rate(naming_compliance_total[1h])) * 100
        
      violations_total: |
        sum(increase(naming_violation_total[24h]))

  git_repository:
    type: "GitLab/GitHub API"
    endpoint: "git-api.internal.io"
    queries:
      total_resources: "count of all named resources"
      rfc_count: "open RFC count"
      pattern_usage: "usage of each naming pattern"

  audit_system:
    type: "PostgreSQL"
    endpoint: "audit-db.internal.io"
    queries:
      violation_log: "SELECT * FROM naming_violations WHERE timestamp > NOW() - INTERVAL '30 days'"
      exception_status: "SELECT * FROM naming_exceptions WHERE status = 'active'"

  resource_inventory:
    type: "CMDB API"
    endpoint: "cmdb-api.internal.io"
    queries:
      resource_compliance: "SELECT compliance_status, count(*) FROM resources GROUP BY compliance_status"
      team_distribution: "SELECT team, count(*) FROM resources GROUP BY team"

# 權限和訪問控制 | Permissions and Access Control
access_levels:
  executive_view:
    roles: ["Naming Governance Board", "Executive Sponsor"]
    access:
      - "所有儀表板"
      - "戰略報告"
      - "趨勢分析"
    restrictions:
      - "無操作權限"

  management_view:
    roles: ["Naming Governance Manager", "Department Heads"]
    access:
      - "所有儀表板"
      - "團隊詳細視圖"
      - "違規日誌"
    restrictions:
      - "有限的配置權限"

  operational_view:
    roles: ["Naming Gatekeepers", "Team Leads"]
    access:
      - "團�队特定儀表板"
      - "違規日誌"
      - "RFC 追蹤"
    restrictions:
      - "僅查看自己的團隊"

  read_only:
    roles: ["All Users"]
    access:
      - "概覽儀表板"
      - "公共報告"
    restrictions:
      - "僅查看權限"

# 導出和報告 | Export and Reporting
export_capabilities:
  formats:
    - "PDF"
    - "Excel"
    - "CSV"
    - "JSON"
    
  scheduled_reports:
    daily_digest:
      name: "每日摘要"
      recipients: ["Naming Gatekeepers"]
      content: ["關鍵指標", "活躍警報", "待處理違規"]
      
    weekly_summary:
      name: "每周摘要"
      recipients: ["Team Leads", "Naming Governance Manager"]
      content: ["KPI 績效", "團隊排名", "趨勢分析"]
      
    monthly_scorecard:
      name: "月度記分卡"
      recipients: ["Naming Governance Board", "Executive Sponsor"]
      content: ["完整 KPI 分析", "戰略洞察", "改進建議"]

# 自定義和配置 | Customization and Configuration
personalization:
  user_dashboards:
    enabled: true
    features:
      - "自定義面板佈局"
      - "保存篩選條件"
      - "創建自定義視圖"
      
  team_dashboards:
    enabled: true
    features:
      - "團隊特定指標"
      - "團隊比較"
      - "團隊目標追蹤"

# 性能優化 | Performance Optimization
performance:
  caching:
    enabled: true
    ttl: "5 minutes"
    strategy: "Redis"
    
  data_sampling:
    high_frequency_data:
      - "採用率"
      - "合規率"
      - "違規計數"
    sample_rate: "100%"
      
    low_frequency_data:
      - "歷史趨勢"
      - "模式分析"
      - "團隊比較"
    sample_rate: "100%"
    
  query_optimization:
    - "使用時間序列索引"
    - "聚合查詢優化"
    - "並行查詢執行"

# 集成和擴展 | Integration and Extension
integrations:
  slack:
    enabled: true
    channels:
      - "#naming-governance"
      - "#alerts-critical"
      - "#team-specific"
    notifications:
      - "警報"
      - "里程碑"
      - "報告可用性"
      
  email:
    enabled: true
    templates:
      - "警報通知"
      - "報告摘要"
      - "里程碑通知"
      
  pagerduty:
    enabled: true
    for:
      - "Critical alerts"
      - "On-call escalation"

  jira:
    enabled: true
    auto_create:
      - "Violation tickets"
      - "Exception requests"
      - "RFC workflows"